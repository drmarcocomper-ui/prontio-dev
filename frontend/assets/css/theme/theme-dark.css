/* =========================================
   PRONTIO - Theme Dark
   Aplicado quando data-theme="dark" está em html ou body
   Define tokens. Componentes usam tokens.
========================================= */

:root[data-theme="dark"],
body[data-theme="dark"] {
  /* Fundo geral */
  --cor-fundo-app: #020617;

  /* Superfícies (card e variações) */
  --cor-fundo-card: #0b1120;
  --cor-fundo-card-alt: #0f172a;
  --cor-fundo-suave: #1e293b;

  /* Bordas */
  --cor-borda-suave: #1f2937;
  --cor-borda-forte: #334155;

  /* Texto */
  --cor-texto-principal: #e5e7eb;
  --cor-texto-secundario: #cbd5e1;
  --cor-texto-suave: #94a3b8;

  /* ==============================
     CORES DA MARCA (ajustadas para dark)
  =============================== */
  --cor-primaria-clara: hsl(221, 60%, 25%);
  --cor-primaria-hover: hsl(221, 83%, 65%);

  /* ==============================
     CORES SEMÂNTICAS (otimizadas para dark)
     Mais vibrantes para melhor contraste
  =============================== */
  --cor-sucesso: #22c55e;
  --cor-aviso: #f59e0b;
  --cor-perigo: #ef4444;

  /* Versões suaves para backgrounds */
  --cor-sucesso-bg: rgba(34, 197, 94, 0.15);
  --cor-aviso-bg: rgba(245, 158, 11, 0.15);
  --cor-perigo-bg: rgba(239, 68, 68, 0.15);

  /* Sombras */
  --shadow-card: 0 14px 32px rgba(0, 0, 0, 0.7);
  --shadow-card-profundo: 0 20px 50px rgba(0, 0, 0, 0.9);

  /* Aliases legacy */
  --app-bg-body: var(--cor-fundo-app);
  --app-bg-shell: var(--cor-fundo-app);
  --app-bg-surface: var(--cor-fundo-card);
  --app-bg-surface-alt: var(--cor-fundo-card-alt);

  --app-text-primary: var(--cor-texto-principal);
  --app-text-muted: var(--cor-texto-secundario);
  --app-text-softer: var(--cor-texto-suave);

  --app-border-subtle: var(--cor-borda-suave);
  --app-border-strong: var(--cor-borda-forte);

  --app-brand: var(--cor-primaria);
  --app-brand-soft: rgba(59, 130, 246, 0.25);

  /* Topbar tokens */
  --topbar-icon-color: #e5e7eb;
  --topbar-hover-bg: rgba(255, 255, 255, 0.08);

  /* ==============================
     COMPONENTES ESPECÍFICOS
  =============================== */

  /* Botões */
  --btn-secondary-bg: var(--cor-fundo-card-alt);
  --btn-secondary-text: var(--cor-primaria);
  --btn-secondary-border: var(--cor-primaria);

  /* Forms */
  --select-icon-color: %239ca3af;
  --switch-knob-color: #e5e7eb;

  /* ==============================
     ALIASES SEMÂNTICOS (P3 fix)
     Usados em page-prontuario.css
  =============================== */
  --surface-soft: var(--cor-fundo-suave);
  --surface-soft-hover: #283548;
  --border-subtle: var(--cor-borda-suave);
  --primary: var(--cor-primaria);
  --primary-soft: rgba(59, 130, 246, 0.3);
  --text-muted: var(--cor-texto-suave);
  --text-default: var(--cor-texto-principal);

  /* Timeline / bullets */
  --timeline-bullet-border: var(--cor-fundo-card);

  /* Fundo do body no tema escuro */
  background: radial-gradient(circle at top left, #0b1120 0%, #020617 45%, #000 100%);
  color: var(--cor-texto-principal);
}

:root[data-theme="dark"] .main-area,
body[data-theme="dark"] .main-area {
  background: transparent;
}
