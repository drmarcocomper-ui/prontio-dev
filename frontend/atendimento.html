<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>PRONTIO - Atendimento</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/components/modals.css">
  <link rel="stylesheet" href="assets/css/components/topbar.css">
  <link rel="stylesheet" href="assets/css/pages/page-atendimento.css">
</head>

<body
  data-theme="light"
  data-page-id="atendimento"
  data-subtitle="Pacientes agendados do dia de hoje para frente"
  data-tag="Atendimento"
  data-context="Atendimentos"
>
  <div class="app-shell">
    <div data-include-sidebar></div>

    <main class="main-area">
      <div id="topbarMount" data-partial="topbar"></div>

      <section class="content content-atendimento">
        <!-- ✅ Mensagens padrão (page-atendimento.js usa isso) -->
        <div id="mensagemListaAtendimento" class="mensagem" style="display:none;" role="status" aria-live="polite"></div>

        <section class="card">
          <div class="card-header card-header-lista atendimento-header">
            <div>
              <h2>Atendimentos a partir de hoje</h2>
              <p class="card-subtitle">Clique em uma linha para abrir o prontuário (quando houver ID).</p>
              <div id="infoUltimaAtualizacao" class="lista-atendimento-info"></div>
            </div>

            <div class="atendimento-actions">
              <button id="btnChamarProximo" class="btn btn-secondary" type="button">Chamar próximo</button>
              <button id="btnAbrirProntuario" class="btn btn-primary" type="button" disabled>Abrir prontuário</button>
              <button id="btnRecarregarLista" class="btn btn-secondary" type="button">Recarregar lista</button>
            </div>
          </div>

          <div class="tabela-atendimento-wrapper">
            <table class="tabela tabela-atendimento" aria-label="Lista de atendimentos">
              <thead>
                <tr>
                  <th class="col-data">Data</th>
                  <th class="col-hora">Hora</th>
                  <th class="col-paciente">Paciente</th>
                  <th class="col-tipo">Tipo</th>
                  <th class="col-status">Status</th>
                  <th class="col-acoes">Ações</th>
                </tr>
              </thead>
              <tbody id="tabelaAtendimentoBody"></tbody>
            </table>
          </div>

          <p class="atendimento-hint">
            Dica: agora você pode marcar “Chegou”, “Chamar”, “Iniciar”, “Concluir” e “Cancelar” direto nesta fila.
          </p>
        </section>
      </section>
    </main>
  </div>

  <div id="modalSobreSistema" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="modalSobreSistemaTitulo">
    <div class="modal modal--lg">
      <div class="modal-header">
        <h2 class="modal-title" id="modalSobreSistemaTitulo">PRONTIO — Sobre o Sistema</h2>
        <div class="modal-header-actions">
          <button type="button" class="modal-close" aria-label="Fechar" data-modal-close="modalSobreSistema">✕</button>
        </div>
      </div>
      <div class="modal-body">
        <p><strong>PRONTIO — Sistema de Consultório Médico</strong><br>Desenvolvido para uso pessoal do <strong>Dr. Marco Antônio Comper</strong>.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-modal-close="modalSobreSistema">Fechar</button>
      </div>
    </div>
  </div>

  <script src="assets/js/main.js"></script>
</body>
</html>
